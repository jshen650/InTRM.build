---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# InTRM.build

InTRM.build is a rough version of the package that will later be made publicly available and referred to as InTRM. The Individualized Treatment Rules following Multiple Imputation (InTRM) package can be used for implementing the methodology described in our paper, "Estimation and Evaluation of Individualized Treatment Rules following Multiple Imputation." The m-out-of-n bootstrap approach used in our work was adapted from the original work by Chakraborty et al (2013).


<!-- badges: start -->
<!-- badges: end -->


## Installation

You can install the development version of InTRM.build from ...

``` r
# install.packages("devtools")
devtools::install_github("jshen650/InTRM.build")
```

## Example

This is a basic example which shows you how to simulate data and apply one of the two approaches for estimating optimal decision rules following multiple imputation:

```{r example, include=FALSE}
library(InTRM.build)
## basic example code
```

```{r example data, include=TRUE}
## simulate data from one of the scenarios - say, n=300 with 30% missingness only in Y
example_dat <- InTRM.build::genDat(size=300, propMiss = 30, seedNum = 215, settingNumber = 1)

str(example_dat) ## data set without and with missingness returned

missDat <- example_dat[[2]] ## data set containing missingness

```

```{r example method, include=TRUE}

## estimate Value and variance with the data splitting approach
example_Val <- split_Val(missDat, 5, seedNum = 215)
example_Val

## estimate a 95% confidence interval with the m-out-of-n bootstrap
example_mBoot <- run_mBoot(missDat, numImp=5, seedNum=215, reps=10, eta=0.05)
example_mBoot[[3]] ## final 95% confidence interval from running m-out-of-n bootstrap on data sets imputed r=5 times

```

<!-- NOTE TO JENNY: If you get an error when knitting about not being able to find a function, make sure it is included in NAMESPACE as export(functionName)

<!-- What is special about using `README.Rmd` instead of just `README.md`? You can include R chunks like so: -->

<!-- ```{r cars} -->
<!-- summary(cars) -->
<!-- ``` -->

<!-- You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this. You could also use GitHub Actions to re-render `README.Rmd` every time you push. An example workflow can be found here: <https://github.com/r-lib/actions/tree/v1/examples>. -->

<!-- You can also embed plots, for example: -->

<!-- ```{r pressure, echo = FALSE} -->
<!-- plot(pressure) -->
<!-- ``` -->

<!-- In that case, don't forget to commit and push the resulting figure files, so they display on GitHub and CRAN. -->
